<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è - FoxDen</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .device-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin: 20px 0;
        }
        .device-card {
            background: white;
            border: 1px solid #e1e8ed;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .device-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #3498db;
        }
        .device-serial {
            font-weight: bold;
            color: #2c3e50;
            font-size: 1.2em;
        }
        .device-status {
            background: #27ae60;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.9em;
        }
        .device-status.inactive {
            background: #e74c3c;
        }
        .current-reading {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin: 20px 0;
        }
        .reading-value {
            font-size: 2.5em;
            font-weight: bold;
            margin: 10px 0;
        }
        .reading-unit {
            font-size: 1em;
            opacity: 0.9;
        }
        .no-data {
            text-align: center;
            color: #7f8c8d;
            font-style: italic;
            padding: 40px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 2px dashed #bdc3c7;
        }
        .user-info {
            margin-top: 15px;
            font-size: 0.9em;
        }
        .user-info a {
            color: #ecf0f1;
            text-decoration: none;
            margin: 0 10px;
        }
        .user-info a:hover {
            text-decoration: underline;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
        }
        .stat-card h3 {
            font-size: 1em;
            margin-bottom: 10px;
            opacity: 0.9;
        }
        .stat-number {
            font-size: 2em;
            font-weight: bold;
        }
        .live-time {
            font-size: 1.2em;
            font-family: 'Courier New', monospace;
            letter-spacing: 2px;
        }
        .device-id {
            color: #7f8c8d;
            font-size: 0.9em;
            margin-left: 10px;
        }
        .info-label {
            color: #7f8c8d;
            font-size: 0.9em;
            margin-right: 5px;
        }
        .device-info-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        .device-info-table td {
            padding: 8px;
            border-bottom: 1px solid #eee;
            vertical-align: top;
        }
        .device-info-table tr:last-child td {
            border-bottom: none;
        }
        .chart-container {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #e1e8ed;
        }
        .chart-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        .chart-tab {
            padding: 8px 15px;
            background: #95a5a6;
            color: white;
            border: none;
            border-radius: 4px 4px 0 0;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }
        .chart-tab.active {
            background: #3498db;
        }
        .chart-tab:hover {
            background: #7f8c8d;
        }
        .chart-wrapper {
            height: 300px;
            position: relative;
            margin: 15px 0;
        }
        .chart-content {
            display: none;
        }
        .chart-content.active {
            display: block;
        }
        .chart-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }
        .chart-stat {
            background: white;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            border: 1px solid #e1e8ed;
        }
        .chart-stat-value {
            font-size: 1.2em;
            font-weight: bold;
            color: #2c3e50;
        }
        .chart-stat-label {
            font-size: 0.8em;
            color: #7f8c8d;
        }
        .no-chart-data {
            text-align: center;
            color: #7f8c8d;
            font-style: italic;
            padding: 30px;
        }
        .chart-description {
            font-size: 0.9em;
            color: #7f8c8d;
            margin-top: 10px;
            padding: 10px;
            background: #f0f7ff;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü¶ä FoxDen - –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—á–µ—Ç—á–∏–∫–∞–º–∏</h1>
            <div class="user-info">
                –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: <strong>{{ username }}</strong> | 
                <a href="/">–ù–∞ –≥–ª–∞–≤–Ω—É—é</a> | 
                <a href="/logout">–í—ã–π—Ç–∏</a>
            </div>
        </div>

        <div class="dashboard-content">
            <div class="stats">
                <div class="stat-card">
                    <h3>–í—Å–µ–≥–æ —Å—á–µ—Ç—á–∏–∫–æ–≤</h3>
                    <p class="stat-number">{{ devices|length }}</p>
                </div>
                <div class="stat-card">
                    <h3>–¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è</h3>
                    <p class="stat-number live-time" id="liveClock">
                        {{ current_time.strftime('%H:%M:%S') }}
                    </p>
                </div>
                <div class="stat-card">
                    <h3>–î–∞—Ç–∞</h3>
                    <p class="stat-number">{{ current_time.strftime('%d.%m.%Y') }}</p>
                </div>
            </div>

            <h2>–í–∞—à–∏ —Å—á–µ—Ç—á–∏–∫–∏</h2>
            
            {% if devices and devices|length > 0 %}
            <div class="device-list">
                {% for device in devices %}
                <div class="device-card" id="device-{{ device.id }}">
                    <div class="device-header">
                        <div>
                            <span class="device-serial">
                                {{ device.serial_number }}
                            </span>
                            <span class="device-id">
                                ID: {{ device.id }}
                            </span>
                        </div>
                        
                        <div class="device-status {% if not device.state %}inactive{% endif %}">
                            {% if device.state %}
                                –ê–∫—Ç–∏–≤–µ–Ω ‚úì
                            {% else %}
                                –ù–µ–∞–∫—Ç–∏–≤–µ–Ω ‚úó
                            {% endif %}
                        </div>
                    </div>
                    
                    <table class="device-info-table">
                        <tr>
                            <td width="50%">
                                <span class="info-label">PIN –∫–æ–¥:</span><br>
                                <strong>{{ device.pin or '–ù/–î' }}</strong>
                            </td>
                            <td width="50%">
                                <span class="info-label">–¢–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:</span><br>
                                <strong>
                                    {% if device.type_id == 1 %}
                                        –°—á–µ—Ç—á–∏–∫ –≤–æ–¥—ã
                                    {% else %}
                                        –¢–∏–ø #{{ device.type_id or '–ù/–î' }}
                                    {% endif %}
                                </strong>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="info-label">–®–∞–≥ –∏–∑–º–µ—Ä–µ–Ω–∏—è:</span><br>
                                <strong>{{ "%.3f"|format(device.step_increment) }}</strong>
                            </td>
                            <td>
                                <span class="info-label">–ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è:</span><br>
                                <strong>
                                    {% if device.scale_unit_id == 1 %}
                                        –∫—É–±–∏—á–µ—Å–∫–∏–π –º–µ—Ç—Ä (m¬≥)
                                    {% else %}
                                        –ï–¥. #{{ device.scale_unit_id or '–ù/–î' }}
                                    {% endif %}
                                </strong>
                            </td>
                        </tr>
                    </table>
                    
                    <div class="current-reading">
                        <h3>–¢–µ–∫—É—â–µ–µ –ø–æ–∫–∞–∑–∞–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞</h3>
                        <div class="reading-value">{{ "%.3f"|format(device.indicator) }}</div>
                        <div class="reading-unit">
                            {% if device.scale_unit_id == 1 %}
                                –∫—É–±–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç—Ä–æ–≤
                            {% else %}
                                –µ–¥–∏–Ω–∏—Ü
                            {% endif %}
                        </div>
                    </div>
                    
                    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
                    <div class="chart-stats">
                        <div class="chart-stat">
                            <div class="chart-stat-value">{{ device.total_changes }}</div>
                            <div class="chart-stat-label">–í—Å–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π</div>
                        </div>
                        <div class="chart-stat">
                            <div class="chart-stat-value">
                                {{ "%.1f"|format(device.total_changes * device.step_increment) }}
                            </div>
                            <div class="chart-stat-label">–û–±—â–∏–π –ø—Ä–∏—Ä–æ—Å—Ç</div>
                        </div>
                        <div class="chart-stat">
                            <div class="chart-stat-value">
                                {% if device.total_changes > 0 %}
                                    {{ "%.1f"|format(device.total_changes * device.step_increment / 30) }}
                                {% else %}
                                    0.0
                                {% endif %}
                            </div>
                            <div class="chart-stat-label">–°—Ä–µ–¥–Ω–µ—Å—É—Ç–æ—á–Ω—ã–π</div>
                        </div>
                        <div class="chart-stat">
                            <div class="chart-stat-value">
                                {% if device.total_changes > 0 %}
                                    {{ "%.1f"|format(device.total_changes * device.step_increment / 12) }}
                                {% else %}
                                    0.0
                                {% endif %}
                            </div>
                            <div class="chart-stat-label">–°—Ä–µ–¥–Ω–µ–º–µ—Å—è—á–Ω—ã–π</div>
                        </div>
                    </div>
                    
                    <!-- –ì—Ä–∞—Ñ–∏–∫–∏ -->
                    {% if device.total_changes > 0 %}
                    <div class="chart-container">
                        <div class="chart-tabs">
                            <button class="chart-tab active" onclick="showChartTab({{ device.id }}, 'cumulative')">–ù–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–π</button>
                            <button class="chart-tab" onclick="showChartTab({{ device.id }}, 'daily')">–ü–æ –¥–Ω—è–º</button>
                            <button class="chart-tab" onclick="showChartTab({{ device.id }}, 'monthly')">–ü–æ –º–µ—Å—è—Ü–∞–º</button>
                        </div>
                        
                        <!-- –ù–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ -->
                        <div id="chart-cumulative-{{ device.id }}" class="chart-content active">
                            <div class="chart-wrapper">
                                <canvas id="chart-cumulative-canvas-{{ device.id }}"></canvas>
                            </div>
                            <div class="chart-description">
                                üìà –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ —Å —Ç–µ—á–µ–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–∏. 
                                –ö–∞–∂–¥–∞—è —Ç–æ—á–∫–∞ - –º–æ–º–µ–Ω—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–∫–∞–∑–∞–Ω–∏–π.
                            </div>
                        </div>
                        
                        <!-- –ì—Ä–∞—Ñ–∏–∫ –ø–æ –¥–Ω—è–º -->
                        <div id="chart-daily-{{ device.id }}" class="chart-content">
                            <div class="chart-wrapper">
                                <canvas id="chart-daily-canvas-{{ device.id }}"></canvas>
                            </div>
                            <div class="chart-description">
                                üìÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞–Ω–∏–π –ø–æ –¥–Ω—è–º. 
                                –í—ã—Å–æ—Ç–∞ —Å—Ç–æ–ª–±—Ü–∞ - –ø—Ä–∏—Ä–æ—Å—Ç –∑–∞ –¥–µ–Ω—å.
                            </div>
                        </div>
                        
                        <!-- –ì—Ä–∞—Ñ–∏–∫ –ø–æ –º–µ—Å—è—Ü–∞–º -->
                        <div id="chart-monthly-{{ device.id }}" class="chart-content">
                            <div class="chart-wrapper">
                                <canvas id="chart-monthly-canvas-{{ device.id }}"></canvas>
                            </div>
                            <div class="chart-description">
                                üìÜ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞–Ω–∏–π –ø–æ –º–µ—Å—è—Ü–∞–º. 
                                –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–µ–∑–æ–Ω–Ω—ã—Ö —Ç–µ–Ω–¥–µ–Ω—Ü–∏–π.
                            </div>
                        </div>
                        
                        <!-- –î–∞–Ω–Ω—ã–µ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ -->
                        <script type="application/json" id="chart-data-{{ device.id }}">
                            {
                                "cumulative": {
                                    "labels": {{ device.cumulative_labels|tojson }},
                                    "values": {{ device.cumulative_values|tojson }}
                                },
                                "daily": {
                                    "labels": {{ device.daily_labels|tojson }},
                                    "values": {{ device.daily_values|tojson }}
                                },
                                "monthly": {
                                    "labels": {{ device.monthly_labels|tojson }},
                                    "values": {{ device.monthly_values|tojson }}
                                },
                                "step": {{ device.step_increment }},
                                "current": {{ device.indicator }}
                            }
                        </script>
                        
                    </div>
                    {% else %}
                    <div class="chart-container">
                        <div class="no-chart-data">
                            üì≠ –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –¥–ª—è —ç—Ç–æ–≥–æ —Å—á–µ—Ç—á–∏–∫–∞
                        </div>
                    </div>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
            {% else %}
            <div class="no-data">
                <h3>üì≠ –ù–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—á–µ—Ç—á–∏–∫–æ–≤</h3>
                <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ –Ω–∏ –æ–¥–Ω–æ–≥–æ —Å—á–µ—Ç—á–∏–∫–∞.</p>
            </div>
            {% endif %}
        </div>
    </div>

    <script>
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∂–∏–≤–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
        function updateLiveClock() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const seconds = now.getSeconds().toString().padStart(2, '0');
            
            document.getElementById('liveClock').textContent = `${hours}:${minutes}:${seconds}`;
        }
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Ä–µ–º—è
        updateLiveClock();
        setInterval(updateLiveClock, 1000);
        
        // –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
        const chartInstances = {};
        
        // –°–æ–∑–¥–∞–µ–º –≥—Ä–∞—Ñ–∏–∫–∏ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            const chartScripts = document.querySelectorAll('script[type="application/json"][id^="chart-data-"]');
            
            chartScripts.forEach(script => {
                try {
                    const deviceId = script.id.replace('chart-data-', '');
                    const chartData = JSON.parse(script.textContent);
                    
                    // –°–æ–∑–¥–∞–µ–º –≤—Å–µ —Ç—Ä–∏ –≥—Ä–∞—Ñ–∏–∫–∞
                    createCumulativeChart(deviceId, chartData);
                    createDailyChart(deviceId, chartData);
                    createMonthlyChart(deviceId, chartData);
                    
                } catch (e) {
                    console.error('Error parsing chart data:', e);
                }
            });
        });
        
        // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫
        function showChartTab(deviceId, chartType) {
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
            const tabs = document.querySelectorAll(`#device-${deviceId} .chart-tab`);
            tabs.forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫
            const contents = document.querySelectorAll(`#device-${deviceId} .chart-content`);
            contents.forEach(content => content.classList.remove('active'));
            document.getElementById(`chart-${chartType}-${deviceId}`).classList.add('active');
        }
        
        // –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞
        function createCumulativeChart(deviceId, chartData) {
            const canvas = document.getElementById(`chart-cumulative-canvas-${deviceId}`);
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            
            chartInstances[`cumulative-${deviceId}`] = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: chartData.cumulative.labels,
                    datasets: [{
                        label: '–ù–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ',
                        data: chartData.cumulative.values,
                        borderColor: '#3498db',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.2,
                        pointRadius: 4,
                        pointBackgroundColor: '#3498db'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: '–ù–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π',
                            font: { size: 14 }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `–ó–Ω–∞—á–µ–Ω–∏–µ: ${context.parsed.y.toFixed(3)}`;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            title: {
                                display: true,
                                text: '–ü–æ–∫–∞–∑–∞–Ω–∏—è'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: '–í—Ä–µ–º—è –∏–∑–º–µ–Ω–µ–Ω–∏–π'
                            }
                        }
                    }
                }
            });
        }
        
        // –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞ –ø–æ –¥–Ω—è–º
        function createDailyChart(deviceId, chartData) {
            const canvas = document.getElementById(`chart-daily-canvas-${deviceId}`);
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            
            chartInstances[`daily-${deviceId}`] = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: chartData.daily.labels,
                    datasets: [{
                        label: '–ü—Ä–∏—Ä–æ—Å—Ç –∑–∞ –¥–µ–Ω—å',
                        data: chartData.daily.values,
                        backgroundColor: '#e74c3c',
                        borderColor: '#c0392b',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: '–ò–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ –¥–Ω—è–º',
                            font: { size: 14 }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `–ü—Ä–∏—Ä–æ—Å—Ç: ${context.parsed.y.toFixed(3)}`;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: '–ü—Ä–∏—Ä–æ—Å—Ç'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: '–î–Ω–∏'
                            }
                        }
                    }
                }
            });
        }
        
        // –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞ –ø–æ –º–µ—Å—è—Ü–∞–º
        function createMonthlyChart(deviceId, chartData) {
            const canvas = document.getElementById(`chart-monthly-canvas-${deviceId}`);
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            
            chartInstances[`monthly-${deviceId}`] = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: chartData.monthly.labels,
                    datasets: [{
                        label: '–ü—Ä–∏—Ä–æ—Å—Ç –∑–∞ –º–µ—Å—è—Ü',
                        data: chartData.monthly.values,
                        backgroundColor: '#2ecc71',
                        borderColor: '#27ae60',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: '–ò–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ –º–µ—Å—è—Ü–∞–º',
                            font: { size: 14 }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `–ü—Ä–∏—Ä–æ—Å—Ç: ${context.parsed.y.toFixed(3)}`;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: '–ü—Ä–∏—Ä–æ—Å—Ç'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: '–ú–µ—Å—è—Ü—ã'
                            }
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>